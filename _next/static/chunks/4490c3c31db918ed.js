(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},9165,e=>{"use strict";let t="https://smaxiso-portfolio-backend.onrender.com/api/v1";async function s(){let e=await fetch(`${t}/projects`,{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch projects");return e.json()}async function a(){let e=await fetch(`${t}/skills`,{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch skills");return e.json()}async function l(e,s){let a=await fetch(`${t}/projects/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw Error("Failed to create project");return a.json()}async function r(e,s,a){let l=await fetch(`${t}/projects/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok)throw Error("Failed to update project");return l.json()}async function i(e,s){if(!(await fetch(`${t}/projects/${e}`,{method:"DELETE",headers:{}})).ok)throw Error("Failed to delete project")}e.s(["createProject",()=>l,"deleteProject",()=>i,"getProjects",()=>s,"getSkills",()=>a,"updateProject",()=>r])},72906,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(18566),l=e.i(32341),r=e.i(9165);e.i(61086);var i=e.i(27215),o=e.i(59141);function c(){let{user:e,loading:c,logout:n}=(0,l.useAuth)(),d=(0,a.useRouter)(),[m,u]=(0,s.useState)([]),[x,h]=(0,s.useState)(!0),[j,p]=(0,s.useState)(""),[g,b]=(0,s.useState)(null),[f,v]=(0,s.useState)(!1);(0,s.useEffect)(()=>{c||(e?N():d.push("/admin/login"))},[e,c,d]);let N=async()=>{try{let e=await (0,r.getProjects)();u(e)}catch(e){p("Failed to load projects")}finally{h(!1)}},y=async t=>{if(t.preventDefault(),g)try{let t=await e?.getIdToken()||"";g.id&&m.some(e=>e.id===g.id)?await (0,r.updateProject)(g.id,g,t):(g.id||(g.id=g.title?.toLowerCase().replace(/\s+/g,"-")),await (0,r.createProject)(g,t)),b(null),N()}catch(e){p("Failed to save project")}},w=async t=>{if(confirm("Are you sure?"))try{let s=await e?.getIdToken()||"";await (0,r.deleteProject)(t,s),N()}catch(e){p("Failed to delete project")}},k=async e=>{if(!e.target.files||0===e.target.files.length)return;let t=e.target.files[0];v(!0);try{let e=(0,i.ref)(o.storage,`projects/${Date.now()}_${t.name}`),s=await (0,i.uploadBytes)(e,t),a=await (0,i.getDownloadURL)(s.ref);b(e=>e?{...e,image:a}:null)}catch(e){console.error(e),p("Failed to upload image")}finally{v(!1)}};return c||x?(0,t.jsx)("div",{className:"p-10",children:"Loading..."}):(0,t.jsxs)("div",{className:"container mx-auto py-10 px-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold",children:"Admin Dashboard"}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsxs)("span",{className:"text-sm text-slate-500 self-center",children:["Welcome, ",e?.email]}),(0,t.jsx)("button",{onClick:()=>n(),className:"text-red-500 hover:text-red-700",children:"Logout"})]})]}),j&&(0,t.jsx)("div",{className:"bg-red-100 text-red-700 p-4 rounded mb-6",children:j}),g?(0,t.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg",children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:g.id?"Edit Project":"New Project"}),(0,t.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"ID (Unique)"}),(0,t.jsx)("input",{className:"w-full border p-2 rounded",value:g.id||"",onChange:e=>b({...g,id:e.target.value}),disabled:!!(g.id&&m.some(e=>e.id===g.id))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Title"}),(0,t.jsx)("input",{className:"w-full border p-2 rounded",value:g.title||"",onChange:e=>b({...g,title:e.target.value}),required:!0})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Description"}),(0,t.jsx)("textarea",{className:"w-full border p-2 rounded",rows:4,value:g.description||"",onChange:e=>b({...g,description:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Category"}),(0,t.jsx)("input",{className:"w-full border p-2 rounded",value:g.category||"",onChange:e=>b({...g,category:e.target.value}),required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Image URL"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{className:"w-full border p-2 rounded",value:g.image||"",onChange:e=>b({...g,image:e.target.value}),placeholder:"https://..."}),(0,t.jsxs)("label",{className:"cursor-pointer bg-gray-100 hover:bg-gray-200 border rounded px-3 py-2 flex items-center justify-center",children:[(0,t.jsx)("i",{className:"bx bx-upload"}),(0,t.jsx)("input",{type:"file",className:"hidden",onChange:k,accept:"image/*"})]})]}),f&&(0,t.jsx)("p",{className:"text-xs text-blue-500 mt-1",children:"Uploading..."})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Technologies (comma separated)"}),(0,t.jsx)("input",{className:"w-full border p-2 rounded",value:g.technologies?.join(", ")||"",onChange:e=>b({...g,technologies:e.target.value.split(",").map(e=>e.trim())})})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 mt-4",children:[(0,t.jsx)("button",{type:"button",onClick:()=>b(null),className:"px-4 py-2 text-slate-600 hover:text-slate-800",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Save Project"})]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:"Projects"}),(0,t.jsxs)("button",{onClick:()=>b({technologies:[]}),className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-700 flex items-center gap-2",children:[(0,t.jsx)("i",{className:"bx bx-plus"})," Add Project"]})]}),(0,t.jsx)("div",{className:"grid gap-4",children:m.map(e=>(0,t.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-slate-100 rounded overflow-hidden relative",children:(0,t.jsx)("img",{src:e.image?.startsWith("http")?e.image:`/${e.image}`,alt:"",className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-bold",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-slate-500",children:e.category})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>b(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded",children:(0,t.jsx)("i",{className:"bx bx-edit text-xl"})}),(0,t.jsx)("button",{onClick:()=>w(e.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",children:(0,t.jsx)("i",{className:"bx bx-trash text-xl"})})]})]},e.id))})]})]})}e.s(["default",()=>c])}]);